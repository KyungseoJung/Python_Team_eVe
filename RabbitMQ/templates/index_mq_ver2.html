<!DOCTYPE html>
<html>
  <head>
    <title>RabbitMQ Console</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.3.2/socket.io.js"></script>
    <!-- Socket.IO 라이브러리 추가 -->
    <script type="text/javascript">
      var socket = io(); // 소켓 연결

      socket.on("connect", function () {
        console.log("Connected to server");
      });

      socket.on("new_message", function (data) {
        var message = data.message;
        var listItem = document.createElement("li");
        listItem.textContent = message;
        document.getElementById("messages-list").appendChild(listItem);
      });
    </script>
  </head>
  <body>
    <h1>Welcome to RabbitMQ Console</h1>
    <a href="/console">Go to Console</a>
    <div>
      <h2>Received Messages</h2>
      <ul id="messages-list"></ul>
      <!-- 메시지를 나타낼 위치 -->
    </div>
  </body>
</html>
